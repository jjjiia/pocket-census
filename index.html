<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Locate the user</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<script src="//d3js.org/d3.v6.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Edu+AU+VIC+WA+NT+Hand:wght@400..700&display=swap" rel="stylesheet">
<link href="https://api.mapbox.com/mapbox-gl-js/v3.0.1/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v3.0.1/mapbox-gl.js"></script>
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js"></script>
<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.css" type="text/css"><style>


body { margin: 0; padding: 0; background-color:#000000; }
#map { position: absolute; top: 0; 
    bottom: 0; width: 100%; height:100%; }
#data{
    position:absolute;
    width:100%;
    top:50%;
    padding:0px;
    font-size:16px;
    font-family:sans-serif;
    letter-spacing:1px;
}
#grid{
    grid-template-columns: repeat(2, 1fr);
    width:100%;
    display: grid;

}

.dataSection{
    padding:10px;
    color:#ffffff;
    padding:10px;
    border-bottom:2px solid #ffffff;
    font-family: "Edu AU VIC WA NT Hand", cursive;
    font-weight:200;
    line-height:130%;
}
.highlight{
    font-weight:bold;
    font-size:30px;
    /* font-family: "helvetica"; */
    line-height:130%;
    color:#e4b640;
}
#dataDate{
    color:#fff;
    line-height:100%;
}
#placeName{

    font-size:20px;
    font-weight:700;
    color:#d5503d;
}
#density{
    grid-column: 1;
    grid-row: 2;
}
#income{
    grid-column: 1;
    grid-row: 3;
}
#age{
    grid-column: 1;
    grid-row: 4;
}
#densityCompare{
    grid-column: 2;
    grid-row: 2;
}
#incomeCompare{
    grid-column: 2;
    grid-row: 3;
}
#ageCompare{
    grid-column: 2;
    grid-row: 4;
}
.mapboxgl-ctrl-geocoder--input{
    height:30px;
}
.mapboxgl-ctrl-geocoder{
}
.mapboxgl-ctrl-geocoder--icon-search {
    top: 5px;
    left: 5px;
}
#screen{
    width:100%;
    height:100%
    background-color:red;
}
</style>
</head>
<body>0-
    <div id="screen">
        Pocket Census
        <br> This map shows the population density, median age, and median income of any census tract. 
        <br>Allow the map to use your location or search for an address.
    </div>
    <div id="map"></div>
    <div id="data">
        <div class="dataSection" id="placeName">placeName</div>
        <div class="dataSection" id="dataDate">Showing latest data, for 2022</div>
        <!-- <div class="dataSection" id="placeName2">placeName</div> -->
        <div id="grid">
            <!-- <div class="dataSection" id="population">population</div> -->
            <div class="dataSection" id="density"></div>
            <div class="dataSection" id="densityCompare"></div>


            <div class="dataSection" id="income"></div>
            <div class="dataSection" id="incomeCompare"></div>
            <div class="dataSection" id="age"></div>
            <div class="dataSection" id="ageCompare"></div>
        </div>
    </div>
<script>

    var randomTracts =['01089010702', '01097005800', '01103005107', '01103005302', '01109189100', '01111000300', '04005001302', '04005001500', '04013061027', '04013061037', '04013103608', '04013105400', '04013422308', '04013422646', '04013815500', '04019004029', '05091020701', '05143010508', '06001422800', '06001435800', '06007000103', '06019004506', '06029002817', '06029005404', '06031001200', '06037109800', '06037238200', '06037261200', '06037265202', '06037267402', '06037269300', '06037406000', '06037406411', '06037534102', '06037900501', '06047000901', '06047001402', '06053000600', '06059001601', '06059011709', '06059063802', '06059075808', '06059099234', '06061021044', '06065040402', '06065041904', '06065043509', '06067009617', '06071010802', '06073002602', '06073008102', '06073013303', '06073020707', '06075026301', '06083000200', '06085502902', '06085503331', '06085505401', '06085512313', '06087121000', '06095252310', '06097151601', '06101050102', '06107002500', '06111007508', '08005087300', '08029964600', '08041005601', '08045951600', '08123000502', '08123000703', '09001010201', '09001105200', '09003400300', '09009170200', '09009194202', '12005001403', '12009060101', '12031013723', '12031015922', '12053040910', '12057000102', '12057000402', '12057011614', '12071010501', '12071050313', '12081000809', '12081001108', '12086007705', '12086008405', '12099005701', '12099006909', '12101031809', '12115001302', '12127090204', '13001950300', '13051002100', '13059001200', '13067030234', '13089023507', '13103030100', '13121011426', '13133950301', '13143010301', '13177020200', '13245010800', '15003001904', '15007990200', '16001010334', '16039960400', '17031020302', '17031030800', '17031170600', '17031330200', '17031611800', '17031691300', '17043846410', '17089852101', '17111870809', '17115001600', '17163502401', '17167001700', '17201002800', '18003010305', '18035002700', '18067010600', '18157010700', '18167010300', '19129040301', '20091053711', '21051950200', '21051950400', '21067001900', '21071920600', '21089040600', '21173920200', '21185030601', '22015010702', '22051020202', '22051021400', '22057021500', '22087030203', '22119031500', '23001010800', '24001001401', '24001001600', '24003702701', '24005450900', '24013505205', '24015030700', '24015031202', '24017851100', '24021750600', '24027606901', '24031700815', '24031703302', '24033801313', '24033803001', '24510090500', '24510170200', '24510210200', '24510250102', '25009210600', '25013813207', '25017312200', '25021415102', '25021416101', '25025160501', '25027751102', '26041970100', '26067030300', '26077002905', '26085960100', '26087333000', '26125171000', '26147655100', '26163539200', '26163569700', '27003051305', '27023950500', '27053107500', '27053111200', '27083360700', '27123030900', '28047001502', '28089030205', '28121021001', '29055450301', '29065960200', '29071800401', '29095011000', '29095011300', '29165030305', '29189213101', '29189221624', '29510127400', '31029961900', '31055007002', '31055007434', '32003001612', '32003001803', '32003002957', '32003005432', '33001965100', '33011002000', '33011016201', '33015003901', '34003025100', '34007606600', '34017016900', '35001004720', '35045943000', '35049940500', '36005008700', '36005013100', '36005035000', '36007014600', '36027050203', '36027100000', '36027200002', '36029008600', '36029010803', '36045060804', '36047002000', '36047017100', '36047026200', '36047030800', '36047056500', '36047079000', '36055009604', '36055010901', '36061007600', '36061010800', '36061026900', '36077591200', '36081014400', '36081017000', '36081017800', '36081027800', '36083051500', '36091060300', '36091060503', '36091062800', '36103158707', '36103158804', '37019020303', '37021001100', '37035011802', '37047930200', '37057060602', '37057061701', '37057061804', '37063001706', '37081016205', '37089930300', '37097061407', '37129990100', '37131920402', '37159051001', '37183053603', '37191000800', '38065961200', '38073969100', '39035134205', '39035177403', '39041010421', '39043040600', '39085204500', '39095000400', '39101010100', '39113004600', '39113040406', '39113070201', '39139001100', '39153530603', '39153532004', '39157020600', '39157021000', '39165031903', '40047001402', '40109103300', '40109106502', '40109108900', '40113940006', '40143006506', '40145030800', '41031960202', '41051005700', '42003456004', '42003462600', '42007601700', '42017100212', '42017100403', '42029311300', '42031160300', '42043023400', '42065950400', '42069110500', '42101001002', '42101029400', '42101033300', '42129801200', '42129807100', '42133022000', '45019003800', '45025950800', '45035010819', '45045002702', '45079010408', '45079011417', '45089970200', '46005956800', '47037017200', '47065011203', '47065011444', '47091956000', '47093005100', '47119010302', '47119011101', '47125101303', '47157008200', '47157020632', '47157021333', '47157021410', '47157021900', '48021950700', '48029120501', '48029161802', '48029191408', '48029191807', '48029191812', '48061013700', '48113016622', '48113019032', '48121020115', '48121020310', '48167722200', '48187210712', '48201231800', '48201340400', '48215022800', '48217961100', '48219950500', '48223950300', '48245005100', '48351950300', '48361021501', '48363000900', '48439106600', '48439111524', '48439113906', '48441013200', '48471790700', '49005000502', '49049002102', '49049002702', '49049002802', '49057210600', '51019030201', '51041100812', '51041100936', '51059420502', '51059480201', '51071930300', '51087200801', '51590000700', '51740212300', '51810045803', '51820003500', '53021020501', '53033002600', '53033024200', '53033029801', '53053072105', '53053072903', '53055960500', '53077001701', '54033031900', '54071970600', '55035000200', '55059000700', '55079021500', '55079120400', '55109120600', '56007967700', '56009956400', '56025000200', '72077500302', '04019005200', '01089010303', '01099075901', '01109189102', '04015950603', '04025000702', '05045030202', '06007000403', '06011000302', '06013346206', '06037131801', '06037190701', '06037482801', '06067009409', '06071009723', '06073005101', '06073017060', '06087121501', '08117000404', '09001210102', '10003016807', '12009069904', '12021010422', '12031014342', '12033003311', '12086005707', '12086015202', '12103026003', '12105014703', '12123950401', '12127082303', '13009970802', '13025960101', '13089021229', '13121009407', '13121011445', '13135050112', '13135050243', '13135050573', '13233010201', '13255160701', '13297110302', '16001010367', '18037953701', '18039000202', '18097390406', '18171951001', '19049050817', '19153010216', '20061000602', '20177002402', '21153970202', '21221970201', '22051020305', '24003706103', '24003706404', '24003731209', '25017336404', '26099223803', '26099230604', '27053026719', '27053980100', '28035010104', '28041950101', '28105950603', '28109950701', '29187950103', '29215480102', '30031000104', '33017085001', '34031182502', '34039039801', '36019100901', '36029001602', '36047011901', '36047088002', '36047120801', '36053030701', '36071015007', '36085022602', '36103158119', '36103159111', '36103159414', '36117020303', '37095920101', '37119006306', '37183054121', '37195001302', '39049009395', '39057220102', '39095001601', '39159050702', '40083600802', '40097040802', '40109108234', '40143009010', '41051009203', '42061950301', '42089300316', '45021970101', '45045003906', '45073030802', '45079010312', '45083023804', '47157009502', '48027021305', '48039660805', '48061010101', '48113000801', '48121021754', '48141010369', '48201233105', '48201252003', '48201323602', '48201333501', '48201411901', '48439106525', '48453036100', '48453043800', '48453045700', '51041101014', '53065951302', '55031030102', '55073001401', '56021002001', '09110480700', '09110504100', '09110514900', '09180695202', '09180697000', '09190020302', '09190055100']
//var randomCoordinates = [ [ -106.636675751269706, 35.225356166659836 ], [ -103.894496171835328, 35.732842955325935 ], [ -104.709033125968659, 34.540944252922756 ], [ -108.373865463852169, 34.810807967935531 ], [ -105.685896749979975, 32.831319957673401 ], [ -107.40866939970573, 32.05777036746484 ], [ -105.515104601745776, 36.599613496246391 ], [ -105.528117327882313, 32.598320060679235 ], [ -104.72157245181225, 32.193952472762788 ], [ -103.190405531072713, 32.146414925590804 ], [ -103.504701506258712, 34.23069470091788 ], [ -103.14227026696588, 34.826082577677248 ], [ -106.243245566041395, 35.950729242465158 ], [ -106.855140530320313, 35.989131842613034 ], [ -104.92707238093513, 36.21177646514424 ], [ -106.9829468000123, 34.508096894084161 ], [ -103.265467472725817, 32.530695020791043 ], [ -104.032207110493985, 33.55714808534465 ], [ -107.070520582204423, 36.725704737868426 ], [ -107.384149963143841, 35.977550020756361 ], [ -103.311317205321188, 44.140051007181441 ], [ -96.697196030691401, 45.2482836258487 ], [ -98.443297337183267, 45.060426563889941 ], [ -101.466956913096752, 45.424174619440279 ], [ -98.227191692927931, 43.2707299645772 ], [ -102.641943758336339, 44.21487228789595 ], [ -99.034418929639457, 44.719356847496172 ], [ -97.68602585987955, 43.085598082765316 ], [ -97.049897065065508, 44.70018526924904 ], [ -102.970126823995727, 43.905515287987569 ], [ -96.994787934072733, 45.546726904395996 ], [ -99.864653000528151, 44.018680934699582 ], [ -99.927405883890785, 45.684045330456833 ], [ -103.363766432799579, 45.598885769818345 ], [ -104.029057484947657, 44.09005436883055 ], [ -96.785578848388241, 44.558187894629206 ], [ -100.313567581027101, 45.855182016520466 ], [ -103.529979731764953, 45.792794909585226 ], [ -96.593596013259926, 45.054382272778987 ], [ -98.928509728660558, 43.045018559104442 ], [ -118.484235954200756, 35.022438198058232 ], [ -115.761833936442272, 33.63386985974968 ], [ -122.2306117134857, 38.919896381136112 ], [ -119.830189805247016, 38.193091302684145 ], [ -114.737244231364457, 33.851322814209965 ], [ -120.016659970246025, 37.85236763413311 ], [ -121.744771681958312, 37.153863731239383 ], [ -118.425143864650394, 36.961434960923349 ], [ -116.887541237145641, 33.472393222762747 ], [ -119.718608395702773, 37.230926189364084 ], [ -116.818956493528347, 34.905889692158361 ], [ -120.106645014393621, 39.222665973474513 ], [ -118.690226035999757, 36.040720148875096 ], [ -123.411538172594518, 39.668575821712466 ], [ -117.403076143938648, 33.598683633997425 ], [ -122.919684131723301, 41.898768956559785 ], [ -118.559615514675585, 35.618906903932917 ], [ -118.51640702685502, 36.871650149818954 ], [ -123.6055520403321, 39.727775460428497 ], [ -120.507805693297357, 41.565730621087262 ], [ -85.203181970248693, 38.221043557974198 ], [ -84.546891110285259, 37.123365872032629 ], [ -89.030968030404537, 36.518550800385562 ], [ -85.440197644389727, 38.235476278597496 ], [ -84.545827743008985, 38.83810439961271 ], [ -85.803710072208176, 36.882491393927751 ], [ -83.592771610676465, 36.651129740871504 ], [ -85.451292067168069, 38.106341756182793 ], [ -84.686471651819872, 38.775119222224063 ], [ -83.160577291522699, 37.794988324149244 ], [ -84.051071947643194, 37.287963823547237 ], [ -83.105558747522636, 37.923782196184689 ], [ -86.787052520741298, 37.948078062390564 ], [ -83.632197945777207, 36.834122416562224 ], [ -88.346892998504501, 36.709108375173265 ], [ -83.531212727298609, 38.175475409786344 ], [ -83.263758056937291, 37.003443238460953 ], [ -84.274944639630533, 38.552279052199175 ], [ -84.344859970505453, 37.059387098253502 ], [ -88.250988172778307, 37.039199144215395 ], [ -87.0307188454547, 32.762246080251678 ], [ -87.244998246155134, 33.803063995686372 ], [ -86.530471495757055, 32.143613318879126 ], [ -88.249752262651128, 31.51228488463153 ], [ -85.359497733746551, 32.502376528856217 ], [ -86.531300304328155, 31.561703768293572 ], [ -85.414462678819348, 32.387321239167136 ], [ -87.770593124235532, 31.56538555371673 ], [ -86.763849772022809, 33.244855293459544 ], [ -86.030389337363147, 33.830334645119024 ], [ -86.370662769750027, 34.36725556321025 ], [ -87.55359717383871, 32.598847813569087 ], [ -88.28113023670447, 32.862298860493169 ], [ -86.607327297372478, 33.910087602928662 ], [ -86.181976163501872, 32.977195517745294 ], [ -88.137962002350932, 31.508382937691245 ], [ -88.058177879510239, 32.432222253764664 ], [ -86.84449577937437, 34.5268652011775 ], [ -88.031579492995036, 31.710690270421807 ], [ -85.491679206872703, 33.736647197249809 ], [ -82.752276115952242, 34.27036267094315 ], [ -85.39873942148887, 34.826146888118608 ], [ -82.767569255641163, 32.996007751283493 ], [ -82.796825989185351, 34.126961925042352 ], [ -81.405746991200587, 32.499015345229324 ], [ -84.354200519042635, 32.44067376560016 ], [ -83.028381958117578, 32.706224377600968 ], [ -84.940150807508275, 34.297007546214587 ], [ -83.069244137488397, 31.002820316959049 ], [ -82.55124392576343, 30.725540085851552 ], [ -82.952011837766904, 31.329612742628136 ], [ -82.667228596993866, 33.486769662196572 ], [ -82.876570204301217, 33.107569975766133 ], [ -81.752051907100324, 33.137105616238017 ], [ -82.737499131425906, 32.688959755950904 ], [ -84.759667400960581, 33.486769259264761 ], [ -84.26647097822682, 33.459097771423124 ], [ -84.242853025433647, 33.450427052994954 ], [ -83.259645821564504, 32.621275736092443 ], [ -82.854308756263194, 34.141383014136629 ], [ -93.282175780446849, 35.05050115203953 ], [ -92.368449553745066, 33.626717342856487 ], [ -92.973250034733454, 35.572329511966743 ], [ -91.663414436743636, 34.942022794752518 ], [ -94.400392310899846, 35.315502660965571 ], [ -94.33697163831927, 34.14838864408334 ], [ -90.446816804455324, 36.379162455136282 ], [ -93.459142801321335, 34.0502634057123 ], [ -91.048742596126701, 35.061501286904651 ], [ -92.506849556704964, 34.149430528590109 ], [ -92.309643676633428, 36.40621187647168 ], [ -91.715499614498569, 33.090037353376339 ], [ -89.790194143814389, 35.981103463303462 ], [ -91.838518382505981, 34.401111279906132 ], [ -92.500826499275377, 35.727736672287421 ], [ -90.688738068251396, 34.810686238796677 ], [ -92.250248732767105, 33.22929006526158 ], [ -90.265978346399876, 36.394313418416075 ], [ -94.205392485199042, 34.666434431367186 ], [ -91.123217710914744, 34.403685507306704 ], [ -80.340218344884207, 40.315755088279467 ], [ -78.053108996548332, 41.116064519131321 ], [ -79.858846234908512, 41.757339012551093 ], [ -80.244183897615883, 41.418493810890645 ], [ -77.985350140748508, 41.98630069412004 ], [ -76.5864150730972, 41.427926217091276 ], [ -76.315168822050211, 40.8745008255557 ], [ -80.246724989114867, 41.973022785253001 ], [ -80.334485251196384, 40.622264927943469 ], [ -75.194854512739511, 41.347285932452735 ], [ -75.391232641039892, 41.409565035689774 ], [ -77.906770235984553, 40.430231595291012 ], [ -77.020397557081026, 41.846829907291763 ], [ -79.655791641578944, 39.972856283775982 ], [ -78.420359434896184, 40.124619157355141 ], [ -76.426308721688855, 41.189894381608852 ], [ -76.777546437104633, 40.600387533599616 ], [ -76.302251653555913, 41.163959566825326 ], [ -77.483542838502515, 40.630538883075111 ], [ -80.413531738195758, 41.845322309117464 ], [ -92.336622691034705, 37.931046993919033 ], [ -93.218799359519267, 37.133928634543906 ], [ -89.701845295564411, 37.466193371964678 ], [ -92.904628329762488, 39.963139602147116 ], [ -94.100645500059017, 39.741631414929401 ], [ -92.346283354978837, 36.930827403590925 ], [ -92.402053150932431, 39.191949397078162 ], [ -94.624853536414008, 39.422231653325532 ], [ -91.914171682181248, 37.612100968008612 ], [ -93.307734801592574, 37.361496444364647 ], [ -94.603493411600724, 38.893176585829636 ], [ -93.844449891249184, 39.181037701869506 ], [ -90.093147916073477, 36.725980651709648 ], [ -93.638200254409185, 37.155129144794515 ], [ -90.143077058164394, 37.298404311849765 ], [ -94.570703097563637, 39.990203121691884 ], [ -91.263873621823961, 36.649542985978428 ], [ -92.782560507904194, 37.966772766541425 ], [ -92.911593261249962, 37.944855397559905 ], [ -90.539942459528319, 37.777008166028921 ], [ -105.34914281602849, 40.703053189738377 ], [ -107.504174320651742, 38.786744356608438 ], [ -102.64918223334233, 40.160542865984922 ], [ -103.804737076731939, 38.861047183000174 ], [ -105.96108838523098, 39.594104318089954 ], [ -105.788117728002121, 38.797540146041754 ], [ -105.309529007877103, 40.014790757124565 ], [ -106.691228845295285, 38.806527768366919 ], [ -104.089642418079094, 37.585901300941181 ], [ -102.805380764014799, 38.513768785836497 ], [ -106.894684970486452, 39.760679522186074 ], [ -105.745473956854212, 37.785539535467628 ], [ -103.873787617968077, 38.456111048492687 ], [ -106.302940584812049, 37.132511911941812 ], [ -102.386727453714016, 37.872822141469349 ], [ -104.054406441249014, 37.287696484587599 ], [ -108.252477472568316, 38.547644294858493 ], [ -106.203257353829429, 38.353635465319144 ], [ -105.652630185041417, 40.184544126603555 ], [ -103.654101269728159, 38.281100116002357 ], [ -112.667824185844566, 41.036001858716425 ], [ -112.281471127538481, 41.946397099395568 ], [ -109.300760487888908, 37.815646884620541 ], [ -113.922684150263848, 39.96135840912828 ], [ -109.953235580165597, 39.214385940246821 ], [ -109.260922030548528, 38.858452979556134 ], [ -111.600270934543772, 38.977793824338804 ], [ -113.162095915587258, 40.601456240690496 ], [ -110.073501374460506, 40.954621326705592 ], [ -109.141439434864637, 38.366815427095609 ], [ -111.750155674382157, 38.015300266647692 ], [ -109.174125784040413, 40.982824785874215 ], [ -112.511976916247008, 41.916626630715093 ], [ -109.310927866325869, 39.549744791004343 ], [ -112.288891116949941, 38.808905502576287 ], [ -113.703893167305267, 41.900015993383882 ], [ -110.414330517218161, 37.620098417155006 ], [ -113.204482159953244, 40.303989540181199 ], [ -110.746730573787843, 38.510030388997436 ], [ -112.910015562664952, 39.240837053101352 ], [ -98.747707133659986, 35.60194819048381 ], [ -95.215556128862048, 35.721830092674523 ], [ -95.788064022014026, 33.989721305904283 ], [ -98.354846610344865, 35.363325983714923 ], [ -95.889538779708161, 35.793306137749632 ], [ -98.765651991926461, 36.15762178270618 ], [ -95.536345681805287, 35.788460528588338 ], [ -99.869070267791471, 35.962143073160945 ], [ -96.683773390938384, 33.93523169866571 ], [ -96.237198775420225, 34.198293449593756 ], [ -96.732773233653191, 34.829327595869884 ], [ -99.928748964229897, 36.908720288352995 ], [ -94.993101946000664, 34.660211984979696 ], [ -95.802603254176177, 34.075844477359993 ], [ -95.84561037551974, 34.966186057878218 ], [ -99.343700181760084, 35.413335846152656 ], [ -95.059105248817531, 36.336350756884627 ], [ -96.115960635887532, 36.513750708436 ], [ -96.007839233969605, 36.490058422118139 ], [ -94.94636731618013, 36.631213259852082 ], [ -85.484253751266664, 36.475150767170717 ], [ -87.760113144726347, 36.510463134551848 ], [ -84.61237113114008, 35.269495634697925 ], [ -85.899106001870479, 35.114600186885461 ], [ -83.625169332639842, 36.236807881675638 ], [ -86.548247909949424, 36.219456529422899 ], [ -88.221098659618036, 35.904008199228592 ], [ -85.381657233131477, 35.818891749362294 ], [ -88.412684602127769, 35.851679603273169 ], [ -86.669027606365134, 35.009304221501075 ], [ -86.975314715536982, 35.01579433647008 ], [ -88.299468222492848, 36.437083813990576 ], [ -87.281234431859545, 36.480766133351466 ], [ -88.139938018672524, 36.10109296140471 ], [ -87.941171830148221, 35.874328324814599 ], [ -85.317663672765406, 35.105724209044887 ], [ -87.203102272255848, 35.783397975192898 ], [ -86.833275894947377, 35.166352397048009 ], [ -86.231819658908279, 35.704784843058967 ], [ -88.370718942356064, 35.04076137972249 ], [ -106.889537054127032, 44.15162793640912 ], [ -107.200930248769794, 42.375925210983567 ], [ -104.693067793120505, 41.607263797327775 ], [ -105.166430459942219, 43.912516469066567 ], [ -104.917691847656414, 43.329879614401143 ], [ -104.61152800031762, 44.461286054607562 ], [ -105.808226195558461, 43.381352842868466 ], [ -106.023038597489489, 44.780318429560452 ], [ -109.789744770507326, 44.080751510791089 ], [ -106.395849448892108, 43.471070376826979 ], [ -106.545488792172705, 43.169293938730632 ], [ -110.665294257675285, 41.541410052323613 ], [ -107.154077813399624, 41.345904024869199 ], [ -109.186322290531109, 44.553355413110985 ], [ -106.499801788726359, 41.098261255374403 ], [ -109.068953470738933, 43.325833455954907 ], [ -110.659886349558889, 44.476970278115459 ], [ -105.158946070039406, 43.888347990310372 ], [ -110.826017797974757, 42.617523357121115 ], [ -108.409791774005697, 42.729897933144471 ], [ -76.5247297552079, 42.545949199898899 ], [ -73.898967073433795, 41.011886195769321 ], [ -75.926067620515383, 44.014862502728747 ], [ -78.687766835099637, 42.431262645216322 ], [ -72.567323457760864, 40.873108902787301 ], [ -74.769260224797335, 42.180561635541792 ], [ -78.248339283943906, 42.333986506125761 ], [ -76.268892555784646, 43.064671225267276 ], [ -75.256072963467815, 43.349322622938814 ], [ -74.236318471796565, 44.573797506578686 ], [ -74.536641984777745, 42.047709195348354 ], [ -74.090213866511959, 44.900423307596768 ], [ -73.86825872153409, 43.202264125635736 ], [ -77.201136269578342, 42.828793358487317 ], [ -78.173151000311634, 42.713168973653474 ], [ -77.394161333805314, 42.731558678240312 ], [ -74.310500527100601, 42.574140686316319 ], [ -73.375775307810983, 44.902735945938126 ], [ -75.581220953081797, 44.402256770064099 ], [ -74.7201940833789, 43.039373840380598 ], [ -87.108532023315547, 41.084219033529735 ], [ -87.219830690472335, 38.619258889591293 ], [ -87.405622316322834, 40.571595290393184 ], [ -85.459027770533524, 39.698489982335886 ], [ -85.054307236836408, 39.43516975264653 ], [ -85.194212383101757, 38.83897883358128 ], [ -87.769093347296376, 38.034912277123382 ], [ -85.450058524276741, 41.24138800802902 ], [ -86.123129946558421, 40.576270897597837 ], [ -86.769165073368754, 38.079166451725293 ], [ -86.184651514074389, 39.750225244682952 ], [ -85.713336132521064, 41.612360702011664 ], [ -85.544294101549596, 40.051716353628038 ], [ -85.296067624922401, 40.261776288316362 ], [ -86.288090386808904, 40.832691252164906 ], [ -84.848398133618829, 38.807040025966231 ], [ -86.230185443246967, 38.655611332698882 ], [ -86.881096260032592, 39.09232863249175 ], [ -85.725375687784336, 38.425253988972273 ], [ -87.169376130709139, 41.31899670661327 ], [ -98.991873437506811, 37.770450170742905 ], [ -101.312789142311416, 39.095304736094349 ], [ -101.509504454855502, 37.326433290363973 ], [ -98.693131349249526, 37.080412859185813 ], [ -95.753598453818014, 37.026021550802454 ], [ -96.526585892612601, 39.257302705828003 ], [ -94.721453823842126, 37.765888973479747 ], [ -98.047728641537049, 39.903903257828198 ], [ -98.174918880935692, 37.5648914236845 ], [ -101.571957797105938, 39.029726025701294 ], [ -97.487155267821436, 37.280103265500131 ], [ -98.848108976683676, 37.856183742523143 ], [ -98.028772844629785, 37.724336483079796 ], [ -101.252025244928618, 39.293112129461385 ], [ -97.134084084386942, 37.805471747089442 ], [ -95.507777683956306, 39.145814070461057 ], [ -95.791959162134717, 38.569934160009218 ], [ -101.719181679893254, 39.270130240337572 ], [ -101.264770074448961, 38.338221451828467 ], [ -96.950575904942937, 37.504222359864194 ], [ -114.553288446074035, 45.05415012320578 ], [ -116.929405105410495, 46.601416860998235 ], [ -113.385149175146012, 42.191873308965903 ], [ -115.005993895556145, 46.920824469529137 ], [ -114.72768159996761, 42.270084705606813 ], [ -112.407281395415552, 42.351028142968843 ], [ -116.68744191221235, 43.608131962907677 ], [ -113.082151167841587, 43.466979135448476 ], [ -112.673988273889123, 42.66356908404282 ], [ -116.340068380806315, 45.403560277301601 ], [ -116.316518176543497, 44.548248707745081 ], [ -112.946506687953217, 42.714306418557499 ], [ -113.616948309120772, 44.500165919042416 ], [ -112.862756649943421, 43.971205153886508 ], [ -115.628829212619365, 46.528987721682029 ], [ -116.614323931298074, 46.990198583063282 ], [ -113.551008409144771, 42.234624403861915 ], [ -114.580754692362135, 46.467430541563466 ], [ -115.613630880734036, 45.889574380608273 ], [ -114.22134050861672, 45.254648294713547 ], [ -117.633096005066633, 38.637673420731389 ], [ -117.14766705813345, 38.449796007004828 ], [ -115.989843572989471, 39.103289288030531 ], [ -119.680535050951079, 40.351535425575292 ], [ -117.461437107797465, 39.929474332749471 ], [ -114.246953018642188, 41.915524295404325 ], [ -117.825943112148408, 38.933255610679929 ], [ -116.493626143179085, 41.765016777286043 ], [ -114.860278986831105, 39.009309942562467 ], [ -118.518917589224415, 40.711464812216811 ], [ -114.633662337239173, 41.161280159311751 ], [ -119.740364232400964, 41.602972871194126 ], [ -117.701188421219697, 41.780995040231502 ], [ -115.211813029681181, 41.318203256705914 ], [ -116.611876090578221, 36.677597948893698 ], [ -118.719805740357629, 38.997608357357954 ], [ -114.64527655814473, 36.89160201264346 ], [ -119.102848605430808, 40.157730108909284 ], [ -118.03793456866795, 41.873723200493622 ], [ -115.583668675394847, 40.779652035722613 ], [ -89.661291644999721, 40.266197285761756 ], [ -88.901273923017399, 41.124367503082915 ], [ -88.236799451380023, 41.429526304790627 ], [ -88.239684032570324, 38.57575708655677 ], [ -90.459249660495189, 41.418574780731348 ], [ -89.21017271270874, 39.729420597197709 ], [ -87.878828534248214, 41.516694914964638 ], [ -90.184899052927506, 41.286496075639434 ], [ -89.565899635506355, 38.6842364608613 ], [ -88.285894391564227, 41.941902799260106 ], [ -88.939323461652933, 42.459097904081531 ], [ -88.009463302884683, 40.56834464245955 ], [ -89.830068446138355, 39.422472538466664 ], [ -89.260815439387471, 42.120954893633765 ], [ -89.466312584494347, 39.202739210595823 ], [ -90.95308409058994, 41.390329470313588 ], [ -90.997282243423655, 39.46094432414165 ], [ -89.751982100884987, 42.386049462757562 ], [ -88.504839773283493, 39.168693659840685 ], [ -89.607147229987476, 42.347834359489141 ], [ -72.852006611964583, 44.030930853092251 ], [ -72.434197066756283, 43.516174531731622 ], [ -72.533103548601602, 43.465593221525779 ], [ -72.854795727810199, 44.759315623884703 ], [ -72.611862763346508, 43.051374113342028 ], [ -73.083848286743518, 43.031201959167589 ], [ -72.553080898609579, 43.241764885356254 ], [ -73.159461907596651, 43.490249582141942 ], [ -72.210978827787883, 44.979195561423424 ], [ -72.026835874420001, 44.659031603354109 ], [ -73.085126251450703, 43.40418912188742 ], [ -71.848735999609289, 44.348802305617781 ], [ -72.862024501180414, 43.90790240529455 ], [ -72.93280700120593, 44.678381004409189 ], [ -72.751680842767612, 44.694756920349093 ], [ -72.603442341334343, 44.970901816168436 ], [ -72.066007117352882, 44.21226577988331 ], [ -73.098100230278462, 43.946421019404838 ], [ -72.820398052768354, 43.195803691223908 ], [ -72.526474192245374, 43.838041468557492 ], [ -95.266238119961429, 47.703442434803399 ], [ -96.333442920802455, 43.752743185721776 ], [ -96.274308552785826, 47.588995208413046 ], [ -93.868882767898285, 48.032268492241293 ], [ -92.787145858692014, 46.988940727394642 ], [ -95.906200802369142, 44.965193438874849 ], [ -95.945671903199482, 47.465796300604133 ], [ -96.651474590451286, 46.753020939262498 ], [ -94.054007701749541, 48.329708629799569 ], [ -96.853169199670603, 48.921463609319694 ], [ -96.569861841754914, 47.399444259971069 ], [ -94.259913641484872, 47.327888618266059 ], [ -92.037011598757601, 47.363576050845488 ], [ -95.241481462895976, 47.35897201498112 ], [ -92.551499750486641, 44.267764576046417 ], [ -94.735569309661443, 45.793985029723615 ], [ -96.392519967324318, 44.995892067004121 ], [ -91.58838657840225, 43.558704854804546 ], [ -92.243476754772274, 44.045890541041267 ], [ -95.632841302718646, 44.927475442408927 ], [ -92.026762652613868, 41.733072451145333 ], [ -94.891316339372167, 41.671341815641675 ], [ -93.821550988530277, 42.977967194105922 ], [ -94.697383486625952, 41.121692095500009 ], [ -91.576089332308044, 43.439870279922033 ], [ -95.648370123444664, 40.753733852965205 ], [ -92.038169414257624, 41.646505368511413 ], [ -91.32494784297802, 43.189605342932389 ], [ -94.339297473482787, 40.891809055055205 ], [ -91.725991971541276, 43.183251490434088 ], [ -95.296991576838906, 40.736171088625973 ], [ -94.269621507454872, 41.465682420859025 ], [ -90.557293940073336, 41.873174964627644 ], [ -93.065329543184916, 41.649670928906403 ], [ -93.131458767671347, 41.307866351935139 ], [ -94.475841709884151, 43.279955422414879 ], [ -93.755988959858485, 41.862499754590417 ], [ -91.574715282948333, 42.368257647933376 ], [ -92.743834270463012, 41.891365748529736 ], [ -93.314728923550902, 41.057739879582314 ], [ -80.798286095267628, 32.165900179164439 ], [ -80.613626154305038, 32.499275896112565 ], [ -79.012436899102994, 33.96622079067555 ], [ -79.798701098859183, 33.10198231136954 ], [ -82.253753218563574, 34.036243956345224 ], [ -80.765189404610112, 34.16838057457673 ], [ -79.261777240510327, 34.414947665064936 ], [ -80.150876157579461, 34.526337954790073 ], [ -79.927766855590761, 33.592893747021023 ], [ -82.666030859621941, 34.549020798627303 ], [ -80.585558148020084, 32.601627333159954 ], [ -82.34226161991009, 34.298740334248428 ], [ -79.872106510780441, 34.139867840868412 ], [ -80.982093571002423, 32.933162032778796 ], [ -82.730317750200982, 34.577096252920278 ], [ -80.657481884595043, 32.717912807197131 ], [ -81.894435604631184, 33.72053558261959 ], [ -82.428305102762167, 35.145679548902592 ], [ -82.347006319038258, 34.794096827328282 ], [ -82.211778730063699, 34.979254877663955 ], [ -71.952265268067279, 44.326304918295349 ], [ -72.138590104934849, 43.880674027150903 ], [ -71.695114915469134, 44.062907555151043 ], [ -71.747948498933766, 43.673845067994939 ], [ -71.493954216344179, 44.60485330293011 ], [ -71.467840195435699, 44.306887727792315 ], [ -71.355874063452745, 42.975289973304626 ], [ -71.743605171891502, 43.542291553717327 ], [ -71.157082879435009, 44.266730070769789 ], [ -72.098542096060172, 43.887362809054018 ], [ -71.643714048976051, 42.922764034495238 ], [ -71.80567443003774, 43.83147145939639 ], [ -71.266131558371015, 44.204927473622135 ], [ -71.809914415190946, 43.401971096754579 ], [ -71.545181055607316, 44.435225920349758 ], [ -71.414800535997529, 43.888147635814278 ], [ -71.231870108581489, 43.285998171881218 ], [ -71.706238648530913, 42.919382624116757 ], [ -72.159534986687021, 42.930979731951929 ], [ -71.686734597311201, 43.613172784609731 ], [ -75.546342959858876, 38.869127914515893 ], [ -75.591177189151921, 39.284301924243309 ], [ -75.506347341024536, 38.977002780123613 ], [ -75.415000610728057, 38.525151052000297 ], [ -75.223206730506931, 38.783790165530299 ], [ -75.08790947872852, 38.593556440705612 ], [ -75.609831609747516, 38.961753494433466 ], [ -75.227625050875972, 38.466646379171195 ], [ -75.264324409859412, 38.61390843328595 ], [ -75.444596196117686, 39.243432596178899 ], [ -75.400386551081994, 39.009018086017178 ], [ -75.366316637545381, 38.722910037098998 ], [ -75.646846142747137, 39.124787934008864 ], [ -75.650911803263256, 39.60885935265496 ], [ -75.578779831911419, 38.933548648899077 ], [ -75.672307649323116, 39.35729238856706 ], [ -75.284831614321902, 38.837790236075456 ], [ -75.508993565489192, 39.126142399546261 ], [ -75.609769681442103, 39.332867624495918 ], [ -75.346298278743362, 38.60306493150086 ], [ -77.013162879753892, 38.876188635751411 ], [ -77.033513897720809, 38.884884352124217 ], [ -77.066207445345086, 38.928833446061319 ], [ -77.00051000568476, 38.946109879448585 ], [ -76.959513710917861, 38.877030412756532 ], [ -77.069077702209796, 38.9481231133149 ], [ -77.023951918869102, 38.928361056993445 ], [ -77.056679212375002, 38.931157018415369 ], [ -77.013078914943605, 38.907296939009058 ], [ -77.036514674893809, 38.828273829092261 ], [ -77.014785351795965, 38.952594919106822 ], [ -77.06548034813558, 38.929940775457659 ], [ -76.996351268407381, 38.890560371535159 ], [ -77.112524056723188, 38.926579124097671 ], [ -76.987737866457721, 38.882180608003246 ], [ -76.956373161643583, 38.917277753934179 ], [ -76.959466755508018, 38.926371763866477 ], [ -76.959319090333594, 38.920273465938166 ], [ -77.013234930145387, 38.844302445967529 ], [ -77.029635480412722, 38.903830999686306 ], [ -73.098749786273061, 41.67401732843183 ], [ -73.130302011236395, 41.992837502885692 ], [ -73.487622295701215, 41.940147857450341 ], [ -71.869125521991521, 41.949518384390579 ], [ -73.082784105479817, 41.569431899591642 ], [ -72.139000397526601, 41.682492116053204 ], [ -72.653092162767862, 41.731328061347362 ], [ -71.797677895015042, 41.576445581621691 ], [ -72.273896522794402, 41.335867965862647 ], [ -73.126119029872754, 41.407740759218662 ], [ -71.864458066808126, 41.851748649416109 ], [ -73.346593795792728, 41.979761892796738 ], [ -72.568166905381446, 41.416341651816246 ], [ -73.273404749162253, 41.816871595928269 ], [ -72.619641323741519, 41.927607238855259 ], [ -72.677968318089938, 41.435399418489958 ], [ -72.933442030336934, 41.883233956813072 ], [ -72.887312184511913, 41.755472137523412 ], [ -73.192996794712101, 41.39951555456166 ], [ -72.30555351410267, 41.772537307220894 ], [ -85.384368072402324, 43.376497484534077 ], [ -83.916286106063666, 44.523940200927505 ], [ -84.023588941834532, 45.365387043323416 ], [ -85.950678187799838, 43.13526188514254 ], [ -85.331767432336576, 43.073005771507901 ], [ -87.399220478343906, 46.117254384346374 ], [ -85.898671042487862, 44.669516518379794 ], [ -83.728618146490263, 42.867230642583273 ], [ -84.259557967473938, 45.174471941018503 ], [ -84.387187846774793, 45.647036103749343 ], [ -83.691626108900849, 41.997450921466097 ], [ -85.006701148403835, 46.448219233838181 ], [ -87.541776200738241, 46.495196336147281 ], [ -83.531594527178271, 42.904478356021635 ], [ -85.987806625477774, 44.850603334131463 ], [ -84.6076883974048, 43.108252168050065 ], [ -83.582016391229573, 43.106477381910643 ], [ -84.601237749648107, 42.105126762583303 ], [ -84.828997598225342, 45.719542435418248 ], [ -88.283117267422341, 46.412565606605398 ], [ -72.684302814414593, 42.67144335979129 ], [ -70.9919914697888, 42.802845762945971 ], [ -72.784345863624395, 42.674095392131683 ], [ -73.02194483445794, 42.246122185950533 ], [ -73.078573205355227, 42.177364291481915 ], [ -72.079100569594516, 42.030706569252963 ], [ -71.141462553860052, 42.523849100006714 ], [ -71.426722683154054, 42.486014648467467 ], [ -71.698105386372205, 42.662384119625706 ], [ -70.776617204213977, 41.942085114437454 ], [ -70.193295797143293, 42.050395128177449 ], [ -69.992061171597939, 41.955778680298046 ], [ -71.883021086296338, 42.242380223818735 ], [ -72.672979113123347, 42.318721726867544 ], [ -70.827064774534009, 42.079247662131728 ], [ -73.294771046501594, 42.529073105400691 ], [ -71.345452834428571, 42.634447267384743 ], [ -70.866588472667772, 41.897203982301718 ], [ -71.35138307563534, 42.409370503988598 ], [ -72.372897737233544, 42.253618513174949 ], [ -82.96463624680392, 30.111786470568109 ], [ -81.173603490345144, 26.993907953260695 ], [ -82.170827812003992, 29.513098505245889 ], [ -80.983576331211538, 26.860541586586621 ], [ -86.891817150600644, 30.480622112751558 ], [ -80.975812633029634, 26.456320428251459 ], [ -81.336404052754915, 27.269353022041724 ], [ -82.526823152496746, 29.41298835901404 ], [ -80.401438871024027, 25.377629471474108 ], [ -80.708764103703714, 27.843064675488591 ], [ -81.071833382742, 28.248071321595027 ], [ -80.226322791415456, 26.028121926121322 ], [ -85.209279220112194, 30.514963225702772 ], [ -81.959819977563953, 30.298436378671404 ], [ -81.287141147367862, 27.30172837204471 ], [ -83.057255308881452, 29.198192659401002 ], [ -81.350783594017528, 29.647878164784267 ], [ -82.746398830041713, 28.209160882129822 ], [ -80.256423540921432, 26.079321114196425 ], [ -84.902816359503177, 29.832733715668589 ], [ -74.274832878766219, 40.591543476528827 ], [ -75.279305198672674, 39.821126749371992 ], [ -74.475744489555993, 40.53752562998141 ], [ -75.17301173734252, 39.786624276769658 ], [ -74.404384416219585, 40.511233882900115 ], [ -75.134344684343077, 40.584302338281539 ], [ -74.790121646673825, 39.096358640802947 ], [ -74.626454413770631, 40.354385037097707 ], [ -74.775386797776321, 40.389240865117074 ], [ -74.311847279506026, 40.076501245778381 ], [ -74.650870383154029, 39.442562903339592 ], [ -74.615819327178883, 41.241191737836267 ], [ -74.731146787060084, 41.307363083650813 ], [ -74.815407766837566, 40.301139976322517 ], [ -74.772420201193242, 39.324944322287138 ], [ -75.03816647964554, 39.989828177277026 ], [ -74.037829585565362, 40.400562279526433 ], [ -74.452851648553619, 40.334679207158636 ], [ -74.365225845313986, 39.468657542855304 ], [ -74.088115844350426, 40.002137037012709 ], [ -99.082036160081344, 46.704893460259925 ], [ -100.262720952319455, 46.399222635378749 ], [ -102.745939485923714, 48.977273518778617 ], [ -98.214737027993294, 47.975952764923953 ], [ -102.348191505620477, 46.212611616731152 ], [ -101.525924478446157, 47.369045900091628 ], [ -99.375027598865955, 48.846826675856065 ], [ -101.285245100621182, 46.623405179286053 ], [ -96.835144854059635, 47.000645854970216 ], [ -97.420047373982072, 46.471068150724832 ], [ -103.618131744877303, 47.781915017622616 ], [ -103.574804489227859, 48.571007596170496 ], [ -103.334668604436445, 47.553842394388575 ], [ -101.892070456880219, 48.916275568165048 ], [ -103.648529948221082, 47.391600651776756 ], [ -99.519004836828572, 46.328315548535386 ], [ -102.795560005586182, 45.988401120856459 ], [ -99.875540111179632, 47.200299027711814 ], [ -101.9787705938448, 46.703048103102851 ], [ -99.771355497779879, 48.604765580756407 ], [ -76.902501266810702, 39.382334508303394 ], [ -76.288459922826874, 39.696925490953397 ], [ -77.092450663721237, 38.563646710732542 ], [ -76.975385198833834, 38.997066650328101 ], [ -76.972154552642024, 38.993107695100576 ], [ -78.529975615382156, 39.70511617630445 ], [ -76.464701365703377, 39.036128626820563 ], [ -77.211587164290307, 39.21598071386699 ], [ -75.933455081795543, 38.590002596154918 ], [ -76.874529175039356, 38.349343215479145 ], [ -77.07021742027122, 39.342759052399565 ], [ -75.833279176752526, 38.017785627587415 ], [ -76.470871474310314, 39.297525150406194 ], [ -76.976898843670796, 38.836916802072977 ], [ -79.158007069918767, 39.683765856132879 ], [ -76.777107247473822, 38.629792386550157 ], [ -76.975034035499476, 38.512509192821106 ], [ -75.876567091555586, 39.396218649265691 ], [ -77.228416805748196, 39.080833331053533 ], [ -75.904068414852418, 38.793464212363951 ], [ -68.87233769775564, 44.639563140525368 ], [ -67.999371370293147, 45.351342597263866 ], [ -69.520269492060009, 45.339663018154972 ], [ -68.717333357449718, 46.660459436031871 ], [ -69.780310099682552, 46.085395564128888 ], [ -70.481767249420486, 44.571559546416438 ], [ -68.430305368608671, 46.947046323525008 ], [ -67.534128393078163, 45.391143573853718 ], [ -69.773450736789727, 43.868110367670688 ], [ -70.191215944230194, 44.919722296635427 ], [ -67.923899617893525, 45.864092831387829 ], [ -69.423764669907669, 45.768339919491375 ], [ -68.046806309918423, 46.587896052528215 ], [ -67.883263175234205, 46.886982400449035 ], [ -69.069729137514429, 46.756286572679478 ], [ -69.891461706175704, 45.754133616045394 ], [ -70.307915694602499, 45.600879012744869 ], [ -69.306662447135921, 46.055105712414274 ], [ -67.752828438861272, 44.855109753024102 ], [ -68.69504442397843, 46.264672826948392 ], [ -71.698423406000245, 41.462751180452663 ], [ -71.671155160199589, 41.76207707582283 ], [ -71.438537118830894, 41.724624983467358 ], [ -71.442711924072952, 41.98037867277192 ], [ -71.627328982679387, 41.524734022236331 ], [ -71.485832544945225, 41.472720439077072 ], [ -71.435937579743282, 41.805627829561274 ], [ -71.24644135420624, 41.689653303679599 ], [ -71.48542974944705, 41.893654863580984 ], [ -71.512422263495466, 41.703131384209776 ], [ -71.499754790065566, 41.868010162533821 ], [ -71.469000746056423, 41.577752469363247 ], [ -71.501311327327684, 41.828970993135613 ], [ -71.187466148075188, 41.543299726830163 ], [ -71.783036001583767, 41.987266503627858 ], [ -71.665884331308376, 41.660055356402225 ], [ -71.633974315976644, 41.568942458238993 ], [ -71.58633791456883, 41.650795179296587 ], [ -71.381470279868523, 41.709580894894195 ], [ -71.523948141789873, 41.896918954835101 ], [ -112.643790534906415, 47.184225645886137 ], [ -113.289554004502534, 45.290165890211739 ], [ -108.703391251004092, 47.070300332164997 ], [ -110.579464164956775, 48.451215662662243 ], [ -106.82524723922495, 46.340506911211115 ], [ -105.674716041415877, 45.108129429075589 ], [ -113.181243020572225, 48.237982385431437 ], [ -108.951458070610272, 48.156556784183358 ], [ -106.31832879083008, 45.867815393219956 ], [ -109.0830811157402, 45.154416287378481 ], [ -106.800149239448089, 47.768302922573127 ], [ -109.79224536487834, 46.278521871186889 ], [ -105.658249051937986, 48.080807511479385 ], [ -105.626482105762435, 48.76440833844044 ], [ -113.120016737322814, 46.805358830042046 ], [ -109.364504932221905, 48.865092503302407 ], [ -114.684116746274043, 47.774608421473559 ], [ -113.722651189085141, 46.216306365927551 ], [ -105.093162299535479, 47.50079469676345 ], [ -108.256437182290838, 45.481733738195324 ], [ -113.313445337454084, 34.223358890442277 ], [ -111.324893015027357, 34.133628141599125 ], [ -113.465573751862578, 33.331891862347469 ], [ -110.096195558681174, 32.181669876740493 ], [ -113.965103081650483, 35.875859327918313 ], [ -111.236474248026283, 32.40592454331825 ], [ -111.756586986460604, 34.00634530841981 ], [ -109.815369065713128, 32.201073281554145 ], [ -112.650967866578782, 35.273825857205168 ], [ -110.358891977941823, 31.458565287555064 ], [ -109.923179626666453, 32.007370720634661 ], [ -111.418144111949616, 36.669989531197174 ], [ -112.555897842360736, 36.595837658806929 ], [ -112.286655839987048, 36.847863962032442 ], [ -112.043491002298808, 35.316248700956542 ], [ -110.875564481104945, 33.184927747370352 ], [ -109.960588278526473, 31.363169150058525 ], [ -112.692956326258809, 34.274328616749813 ], [ -111.193268725658854, 33.349252169642945 ], [ -111.518753552449141, 36.229309335487713 ], [ -101.459288426544333, 41.468672783108211 ], [ -100.0969054766733, 42.771865387160318 ], [ -103.81109694982149, 42.521474992352346 ], [ -98.51701367790821, 40.096936027546455 ], [ -98.674280278199447, 40.045289407711394 ], [ -103.62506759577947, 42.029805964047583 ], [ -96.450107752806815, 41.886784133429721 ], [ -96.597968472732944, 41.228589956575632 ], [ -102.586963811297935, 42.867815809724284 ], [ -97.210207422162341, 41.833953794417845 ], [ -95.542071293326657, 40.076419799523691 ], [ -99.133949064592386, 42.515651919557179 ], [ -101.997358368841589, 42.52716919035656 ], [ -101.012736969499827, 42.263417482535068 ], [ -96.506012090321221, 41.804115064404677 ], [ -102.201480017035593, 41.347605846842129 ], [ -96.884850999613818, 41.053052102582669 ], [ -98.296783667479417, 42.724885163778112 ], [ -101.074919196146496, 42.084053080270323 ], [ -98.380298078091798, 40.304559085230821 ], [ -120.030724021667197, 48.855035707621312 ], [ -121.232008399676374, 47.189622621898053 ], [ -121.320157363726807, 47.179909570724156 ], [ -119.301797498189842, 47.888960525005103 ], [ -121.047178763492354, 47.932364601043908 ], [ -123.404065522549757, 46.962753939397444 ], [ -119.918102843767215, 47.061660087224553 ], [ -122.287706893106503, 48.899246060788634 ], [ -118.326770864076437, 48.928126029648958 ], [ -122.065755613114547, 45.818428935924828 ], [ -117.232276159108054, 47.199947100975194 ], [ -121.871313566074278, 45.995923964695002 ], [ -118.508472523360751, 48.619136168117883 ], [ -118.844451735975326, 47.413774577345833 ], [ -119.236900958957975, 46.98732844954764 ], [ -122.666274646076417, 47.639353292228122 ], [ -122.014566921954938, 46.336556384725085 ], [ -119.175294537195924, 47.953820523087415 ], [ -120.484780268908864, 48.190055941771419 ], [ -121.635733741355367, 46.408025058097905 ], [ -97.991451151126185, 33.404205802072951 ], [ -103.186678147680894, 29.278012664274801 ], [ -101.430512409563619, 29.964264921968816 ], [ -97.514480114958701, 31.206293824141603 ], [ -97.071706043440784, 33.204569993231672 ], [ -100.896118670577664, 35.949020828534813 ], [ -103.602366520866326, 31.418861600982435 ], [ -103.032255208219382, 31.329704540925079 ], [ -94.321714652193918, 32.62231791682855 ], [ -104.486899023386101, 29.777994104328879 ], [ -94.707824787370328, 30.253135833252649 ], [ -99.016217441687701, 32.526211554704325 ], [ -101.365344477665388, 33.606706175733855 ], [ -101.418484646589377, 32.516471991501 ], [ -100.336846751598586, 28.771791375317832 ], [ -103.220127927761297, 31.653347648067623 ], [ -105.799124520623266, 31.946977129532911 ], [ -99.5401233858924, 31.739128963359768 ], [ -95.926638729817299, 28.897263116742781 ], [ -97.644715665279435, 26.468574391065342 ], [ -82.106775837469385, 39.201771608399206 ], [ -83.786284717623317, 40.674213671364399 ], [ -82.614084185727037, 38.88899351676428 ], [ -83.747130594657136, 39.410972629120792 ], [ -83.497642828668958, 40.079327318604967 ], [ -82.312820741464364, 39.186867474347565 ], [ -81.248512543144344, 39.543480940708065 ], [ -82.861389262186563, 40.892910824501435 ], [ -81.144208659011852, 41.402024104002201 ], [ -82.979254567492902, 39.269277213195643 ], [ -81.817368089963168, 41.404167666700907 ], [ -83.347559396513049, 41.441547737249387 ], [ -80.971367653447103, 40.845488582221655 ], [ -84.341365633673419, 40.540890314390921 ], [ -83.375812345786187, 40.727351760621126 ], [ -83.917196075114731, 41.4349463003987 ], [ -82.58914822837643, 40.403471429405748 ], [ -83.896705609404194, 39.882653313542356 ], [ -83.056771932821547, 40.697659956795185 ], [ -82.155067616075101, 40.897028997065014 ], [ -88.903360216086568, 44.582666580126102 ], [ -89.849810337488677, 45.786774736993245 ], [ -90.27930387096697, 43.848460769756187 ], [ -92.278382674072986, 45.606445060801924 ], [ -91.233440909818199, 43.936389986067056 ], [ -90.176793089213902, 46.34039871443025 ], [ -91.871472476916381, 45.526696355510836 ], [ -88.939869969070557, 44.262758939436189 ], [ -88.600441855529056, 43.016415378448642 ], [ -89.986824891084026, 45.457981044910881 ], [ -90.743816448712252, 44.276199423957124 ], [ -90.776107609995009, 43.531477602171378 ], [ -88.324954824418171, 42.669403256177866 ], [ -91.711964187073249, 46.584964379961875 ], [ -87.901914295159486, 45.378560031353082 ], [ -90.87322739485721, 43.055106725287253 ], [ -91.936300294049119, 44.929255278089713 ], [ -90.599927689681365, 43.396571089398826 ], [ -89.083740160049615, 44.829131632036159 ], [ -89.241537113708432, 44.075073771919854 ], [ -123.49134985291002, 42.607634281833953 ], [ -123.101583987994445, 44.874226558776556 ], [ -123.498790657591286, 42.53890992387759 ], [ -118.545458440130474, 42.883898574962245 ], [ -117.476138602186566, 45.507601904514161 ], [ -120.536750029667388, 42.437398535584222 ], [ -122.961134937638661, 45.209046893897217 ], [ -120.699649048225652, 42.739977106313127 ], [ -119.168788523356611, 45.60578296094058 ], [ -119.739397698171615, 45.210121756403161 ], [ -118.402293330040294, 42.562395537285639 ], [ -117.849795173570669, 43.4641473150959 ], [ -121.313378848999832, 44.361813881580517 ], [ -123.041259449842173, 42.846011283212263 ], [ -122.454991852810807, 43.862992944128848 ], [ -119.944200681062156, 41.999806985327879 ], [ -117.271909549005329, 42.347272699069912 ], [ -121.026639565601997, 43.656934998851966 ], [ -123.648925751380673, 44.796073945227363 ], [ -120.698181563007964, 43.916061628213576 ], [ -89.511913300128882, 31.496105494089235 ], [ -89.779256525685838, 32.487927924557304 ], [ -89.086981790094029, 33.15626166224834 ], [ -90.681907954985832, 32.173333441057821 ], [ -88.606148860164481, 32.169872424155308 ], [ -90.680529505360767, 32.025601775097307 ], [ -88.829509160014652, 32.442382963032067 ], [ -89.153563072058418, 31.64431988863744 ], [ -89.073219873933667, 31.074539981484268 ], [ -88.40676872964157, 34.790002723794196 ], [ -89.281401338737425, 33.990519428932217 ], [ -88.736310812259561, 32.676701648700899 ], [ -91.054252575135365, 31.500225393520775 ], [ -90.818896037983265, 31.684147717851726 ], [ -91.174808975835475, 31.848187714797046 ], [ -90.916644209083174, 33.988473472027998 ], [ -89.181494518282832, 31.448871839087534 ], [ -90.249613889811627, 32.036491510443213 ], [ -88.714209342031708, 31.773228846540654 ], [ -88.754838767392002, 33.177526431795044 ], [ -77.798971590127834, 34.704382210223798 ], [ -81.194710409048568, 35.33607873373856 ], [ -81.611871440632044, 35.739350617524956 ], [ -78.596564846083325, 36.138188819569841 ], [ -81.607443346717659, 36.57020162478247 ], [ -82.023284210984926, 35.78030935054494 ], [ -76.504664033218177, 34.861597879948135 ], [ -78.324857165029158, 35.884643250304563 ], [ -78.502309440962918, 35.575189345662167 ], [ -82.356377793814389, 36.044664015108275 ], [ -79.128820335271712, 34.401270187853854 ], [ -78.266262775849569, 35.319063926782391 ], [ -81.093986049430441, 35.163020580445867 ], [ -76.886288457413045, 34.742703987181926 ], [ -77.762475426090532, 34.942771004647255 ], [ -80.151391980322217, 35.918515216503792 ], [ -78.520060315607537, 35.692817993082443 ], [ -78.310609213685822, 35.785422854587502 ], [ -77.211029114728774, 34.808425224986074 ], [ -76.464770789238798, 36.179109365491428 ], [ -77.070651851953059, 37.639849500777231 ], [ -79.394395763009783, 37.873794265016471 ], [ -76.630821219970812, 37.662233974797218 ], [ -82.275671003142676, 37.012167993183297 ], [ -76.565217313162918, 36.790459112911996 ], [ -75.776555359205901, 37.623927687231742 ], [ -79.334303449611696, 37.888633357002639 ], [ -79.361235341315194, 36.935460480846459 ], [ -77.323756080137287, 37.736024417750819 ], [ -77.611371106112529, 38.165795572129419 ], [ -79.552390829638782, 36.585665062104226 ], [ -78.496910233871446, 38.644076300523807 ], [ -78.978360206912427, 38.316536048106414 ], [ -79.24902025500019, 37.128685645553169 ], [ -77.603328460096563, 37.680600502813022 ], [ -81.275051711500979, 36.655717728421934 ], [ -78.586017715037144, 38.219150882404151 ], [ -79.625746781930872, 37.653959748053111 ], [ -82.079082078509074, 37.335671353366592 ], [ -76.889429393337551, 36.96574405833325 ], [ -80.402720863794556, 38.376779893677728 ], [ -78.78192964925303, 38.916491022785046 ], [ -79.788740376310727, 38.381134929461155 ], [ -79.827660227728956, 38.856844165612557 ], [ -80.879902596543104, 37.78504614910316 ], [ -78.365392557998391, 39.331783062880525 ], [ -78.039739542223657, 39.417975913657067 ], [ -80.783244068337581, 39.184970786096493 ], [ -80.066268696914648, 38.597886108471947 ], [ -79.237397197128615, 38.978348937401812 ], [ -80.750597394857323, 39.207182867195868 ], [ -78.930241942228164, 39.153071259303147 ], [ -82.067632188283099, 38.685592026985077 ], [ -80.365259879896044, 39.23818543639856 ], [ -80.621997932855976, 40.619785038813632 ], [ -80.219294834915601, 39.082440066620379 ], [ -81.008673465295246, 37.493789866370541 ], [ -80.383413167581537, 39.625317064315297 ], [ -81.788097361893946, 38.687969071541858 ], [ -79.18153629407405, 39.101832817669461 ], [ -91.852348945288682, 30.562910268945284 ], [ -92.023035763651492, 31.211403661738963 ], [ -90.573725409572546, 30.664434329174 ], [ -91.765972733440208, 30.270227585200143 ], [ -92.153818107777766, 30.360715183463387 ], [ -90.742553990580205, 30.319977167079411 ], [ -92.080449768865506, 31.157536127257195 ], [ -94.00572476440594, 32.059247862596123 ], [ -89.514873072029062, 29.269810654024308 ], [ -91.45679186980216, 31.66905636864276 ], [ -92.025701957982875, 31.955180343944637 ], [ -91.550390941816104, 30.321144017450454 ], [ -90.536517643341583, 29.72858987526158 ], [ -93.422791960253065, 32.246622461993482 ], [ -92.008145857166667, 33.006075765738551 ], [ -90.863497181188393, 30.694506025463795 ], [ -90.026456361534059, 30.188603376057237 ], [ -91.810463925061626, 30.831180574354896 ], [ -89.428896035867751, 29.729527951952157 ], [ -91.501466932874621, 32.025962581350846 ] ] 
var randomCoordinates = [[-122.24689831809374, 37.89256145766974],[-122.36222615317632, 37.93394836280966],[-122.46153305053694, 37.74394312138058],[-121.65207015143537, 37.13554904761523],[-121.54205519055574, 36.55202976610015],[-120.65707070486873, 35.29443841629026],[-122.28867987691714, 47.44239702059477],[-122.23394810207245, 47.40228807338363],[-122.19521535592547, 47.35353930211329],[-119.27683671315484, 46.96036061738829],[-93.30147033311653, 44.973279671691984],[-73.59244864377621, 40.7264567501239],[-73.67338784720143, 41.31268381010952],[-74.26199330223969, 40.8509334380831],[-76.49462018694263, 37.10296785476504],[-76.4834448906963, 37.09669801655782],[-77.34423546564001, 34.797161495220706],[-79.87036629328635, 32.92807487863156],[-83.10555874752264, 37.92378219618469],[-122.66627464607642, 47.63935329222812],[-87.0307188454547, 32.76224608025168],[-75.34629827874336, 38.60306493150086],[-92.40205315093243, 39.19194939707816],[-97.48715526782144, 37.28010326550013],[-72.85200661196458, 44.03093085309225],[-78.97836020691243, 38.316536048106414],[-71.46900074605642, 41.57775246936325],[-76.28845992282687, 39.6969254909534],[-76.87452917503936, 38.349343215479145],[-88.23679945138002, 41.42952630479063],[-87.10853202331555, 41.084219033529735],[-98.3802980780918, 40.30455908523082],[-89.66129164499972, 40.266197285761756],[-71.24644135420624, 41.6896533036796],[-122.96113493763866, 45.20904689389722],[-71.78303600158377, 41.98726650362786],[-79.15800706991877, 39.68376585613288],[-75.34629827874336, 38.60306493150086]]
let coordinates = randomCoordinates[Math.round(Math.random()*randomCoordinates.length)]

    Promise.all([d3.json("data/se_2022_country.json"),d3.json("data/se_2022_state.json"),
    d3.json("data/se_2022_county.json"),d3.json("data/se_2022_tract.json")
    ])
    .then(function(data){
        
        var country = data[0]
        var state = data[1]
        var county = data[2]
        var tract = data[3]
        //geolocation on load code from https://stackoverflow.com/questions/63957193/getting-user-location-on-opening-map-in-mapbox
        mapboxgl.accessToken = 'pk.eyJ1IjoiampqaWlhMTIzIiwiYSI6ImNpbDQ0Z2s1OTN1N3R1eWtzNTVrd29lMDIifQ.gSWjNbBSpIFzDXU2X5YCiQ';
            const map = new mapboxgl.Map({
                container: 'map', // container ID
                // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
                style: 'mapbox://styles/jjjiia123/clsc7z66702x401pbd0hh722p', // style URL
                center: coordinates,
                zoom: 10 // starting zoom
            });

            //add search
            var geocoder = new MapboxGeocoder({
            accessToken: mapboxgl.accessToken,
            mapboxgl: mapboxgl
            })

            map.addControl(
          geocoder
            );

            var geoLocator = new mapboxgl.GeolocateControl({
                    positionOptions: {
                        enableHighAccuracy: true
                    },
                    // When active the map will receive updates to the device's location as it changes.
                    trackUserLocation: true,
                    // Draw an arrow next to the location dot to indicate which direction the device is heading.
                    showUserHeading: true
                })
            // Add geolocate control to the map.
            map.addControl(
                geoLocator
        );
        geoLocator.on('geolocate',function(a){
            map.once("moveend",function(){
                let centerXY = getXYAtCenter()        
            getFeature(map, centerXY,data)
            })
        })
        geocoder.on('results', function(results) {
            //console.log(results);
           // console.log("on results")
            map.once("moveend",function(){
                let centerXY = getXYAtCenter()        
            getFeature(map, centerXY,data)
            })

            })
                  

        map.on('load', () => {
        //console.log(coordinates)
        flyToUser([coordinates[1],coordinates[0]],map)

        // if (navigator.geolocation) {
        //     navigator.geolocation.getCurrentPosition(function(position) {
        //         coordinates = [position.coords.latitude, position.coords.longitude];
        //         flyToUser(coordinates,map)
        //     });
        // }else{
        //     $.getJSON("https://ipgeolocation.abstractapi.com/v1/?api_key=03be6c4af7b4432cb6c3f6dd6e13e49d", function(data) {
        //     console.log(data.longitude);
        //     console.log(data.latitude);
        //     coordinates = [data.longitude,data.latitude]
        //     flyToUser(coordinates,map)
        //     })
        // }       
        map.once("moveend",function(){
           // console.log("test")
           let centerXY = getXYAtCenter()        

            getFeature(map, centerXY,data)
    })
        d3.selectAll(".mapboxgl-ctrl-bottom-left").remove()
        map.setFilter('tracts-highlight', ['==', 'AFFGEOID', 0]);

       //console.log( map.getStyle().layers)
        map.on('click', (e) => {
            //console.log([e.lngLat.lng,e.lngLat.lat])
            getFeature(map, e.point,data)
        });
    })

    })
function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

function formatIntoDict(data){
    var formatted = {}
    for(var d in data){

      //  console.log(data[d])
        var geoid = data[d]["geoid"]
        formatted[geoid]=data[d]
    }
    return formatted
}

function flyToUser(coordinates, map){
   // console.log(coordinates)
    map.flyTo({
       center: [
         coordinates[1], 
         coordinates[0]
       ]//,
       //zoom:15,
       //essential: true // this animation is considered essential with respect to prefers-reduced-motion
    });
 
}

function getXYAtCenter(){
    var clientHeight = document.getElementById('map').clientHeight;
    var clientWidth = document.getElementById('map').clientWidth;
    var centerY = clientHeight/2
    var centerX = clientWidth/2
    var centerPoint ={x:centerX,y:centerY}
return centerPoint
}

function getFeature(map, point,data){
    const bbox = [
                [point.x - 15, point.y - 15],
                [point.x + 15, point.y + 15]
            ];
            // Find features intersecting the bounding box.
            const selectedFeatures = map.queryRenderedFeatures(bbox, {
                layers: ['tracts']
            });
            // console.log(selectedFeatures)
            // console.log(selectedFeatures[0])
            // console.log(selectedFeatures[0].geometry.coordinates)
            let coordinates = selectedFeatures[0].geometry.coordinates[0];
            const padding = { left: 0, right: 0, top: 50, bottom: window.innerHeight/2 }; //<--- padding

            let bounds = coordinates.reduce(function(bounds, coord) {
                    return bounds.extend(coord);
                }, new mapboxgl.LngLatBounds(coordinates[0], coordinates[0]))
                map.fitBounds(bounds,{
                    padding});

            const affgeoid = selectedFeatures[0].properties.AFFGEOID
            //console.log(affgeoid)
            // Set a filter matching selected features by FIPS codes
            // to activate the 'counties-highlighted' layer.
            map.setFilter('tracts-highlight', ['!=', 'AFFGEOID', affgeoid]);
            getFeatureData(affgeoid,data)

}

function getFeatureData(geoid,data){
  
 d3.json("tract_files/"+geoid.replace("1400000US","")+".json")
 .then(function(data){

        var stateGeoid = geoid.replace("1400000US","").slice(0,2)
        var countyGeoid = geoid.replace("1400000US","").slice(0,5)

        var placeName = data["name"]
   // var population = data["2022"]["totalPop"]
    var income = data["2022"]['mIncome']
    var age = data["2022"]['mAge']
    var density = data["2022"]['density']

    var colors = ["#99e94f","#4fe4e4","#e2d363","#8ae79e"]
    var colors =["#49e452","#7adf4b","#7fd77e","#71d5bb"]

    d3.select("#placeName")
   // .style("background-color",colors[0])
    .html(placeName.split(",")[0]+"<br>"+placeName.split(",")[1]+","+placeName.split(",")[2])
    
   //  d3.select("#placeName2").html(placeName.split(",")[1]+"<br>"+placeName.split(",")[2])
    //d3.select("#population").html("<span class=\"highlight\">"+numberWithCommas(population)+"</span> <br>Residents")
    d3.select("#income")
   // .style("background-color",colors[1])
    .html("Median Income<br> <span class=\"highlight\">$"
        +formatToK(income)+"</span>")

    
  
    d3.select("#age")
   // .style("background-color",colors[2])
    .html("Median Age<br> <span class=\"highlight\">"
        +Math.round(age)
        +"</span> years old")


    d3.select("#density")
   // .style("background-color",colors[3])
    .html("Residents/mile<sup>2</sup><br><span class=\"highlight\">"
        +formatToK(density)
        +"</span>")
   
        var densityTimeline = []
        var ageTimeline = []
        var incomeTimeline = []

        for(var year = 2010; year<=2022; year++){
            densityTimeline.push(parseFloat(data[year]["density"]))
            ageTimeline.push(parseFloat(data[year]["mAge"]))
            incomeTimeline.push(parseFloat(data[year]["mIncome"]))
        }

        lineChart(densityTimeline,"#densityCompare")
        lineChart(ageTimeline,"#ageCompare")
        lineChart(incomeTimeline,"#incomeCompare")     
 })    
}
function lineChart(data,div){
    var width = window.innerWidth/2
    var height = 60
    var max = d3.max(data)
    var min = d3.min(data)
    var xScale = d3.scaleLinear().domain([0,11]).range([0,width-80])
    var yScale = d3.scaleLinear().domain([min,max]).range([0,height-20])

    d3.selectAll(div+"svg").remove()
   var svg =  d3.select(div).append("svg")
   .attr("id",div.replace("#","")+"svg")
   .attr('width',width).attr("height",height)//.style("background-color","black")
   svg.append("text").text("2009").attr("x",2)
   .attr("y",height-yScale(data[0])-13)
   .attr("fill","#fff")
   .attr("font-size","11px")

   svg.append("text")
   .text(formatToK(data[0])).attr("x",2)
   .attr("y",height-yScale(data[0]))
   .attr("fill","#fff")
   .attr("font-size","11px")
   .attr("font-weight","700")

   svg.append("text").text("2022").attr("x",width-35)
   .attr("y",height+5-yScale(data[data.length-1]))
   .attr("fill","#e4b640")
    .attr("font-size","11px")
   // .attr("font-weight","700")

   svg.append("path")
      .datum(data)
      .attr("fill", "none")
      .attr("stroke", "white")
      .attr("stroke-width", 1.5)
      .attr("d", d3.line()
        .x(function(d,i){return xScale(i)+40})
        .y(function(d,i){return height- yScale(d)-15})
        )
   svg.selectAll(".dot")
   .data(data)
   .enter()
   .append("circle")
   .attr("cx",function(d,i){return xScale(i)+40})
   .attr("cy",function(d,i){
    
    return height- yScale(d)-15})
   .attr('r',function(d,i){
    if(i==data.length-1){
        return 5
    }
    return 2
   })
   .attr("fill",function(d,i){
    if(i==data.length-1){
        return "#e4b640"
    }
    return "#ffffff"
   })


}

function formatToK(density){
//console.log(density)
    if(density>10000){
        var densityK = (density/1000).toFixed(0)+"K"
    }
    else if(density>5000){
        var densityK = (density/1000).toFixed(1)+"K"
    }else{
       var densityK = Math.round(density)
    }
   //console.log(densityK)
    return densityK
}

 
</script>

</body>
</html>